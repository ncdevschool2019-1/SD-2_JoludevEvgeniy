<ng4-loading-spinner></ng4-loading-spinner>
<div class="modal-header">
  <h4 class="modal-title pull-left">Биллинг аккаунты пользователя</h4>
  <button type="button" class="close pull-right"
          aria-label="Close" (click)="closeModal()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="form-group justify-content-center">
    <label for="exampleFormControlSelect1">Выберите billing account, на который хотите добавить подписку:</label>
    <select class="form-control w-25" id="exampleFormControlSelect1"
            [(ngModel)]="selectedBillingAccount">
      <option *ngFor="let billingAccount of selectedUser.billingAccounts"
              [ngValue]="billingAccount">{{billingAccount.name}}</option>
    </select>
  </div>
  <div *ngIf="selectedBillingAccount.id">
    <h6>Имя аккаунта: {{selectedBillingAccount.name}}</h6>
    <h6>Баланс: {{selectedBillingAccount.balance}}</h6>
    <h6>Статус: {{selectedBillingAccount.active ? "Активно" : "Заблокировано"}}</h6>
    <h6>Всего подписок на аккаунте: {{getSelectedBASubscriptsLength()}}</h6>
  </div>
  <p></p>

  <button type="button" class="btn btn-primary d-none d-lg-inline-block mt-2 mb-3"
          [disabled]="isSelectedBAIdUndefined()" onClick = "this.disabled = true"
          (click)=" changeStatus($event)">
    {{selectedBillingAccount.active ? "Блокировать" : "Активировать"}}
  </button>
</div>
